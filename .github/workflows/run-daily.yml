name: è‡ªåŠ¨æ‰§è¡ŒPythonè„šæœ¬

# âœ… ä¸¤ç§è§¦å‘æ–¹å¼ï¼šå®šæ—¶ + æ‰‹åŠ¨/APIè§¦å‘
on:
  # å–æ¶ˆå®šæ—¶è§¦å‘ï¼Œå¯ä»¥é€šè¿‡æ³¨é‡Šæ‰è¿™éƒ¨åˆ†æ¥å…³é—­å®šæ—¶å‘é€
  # schedule:
  #   - cron: "0 11 * * *"  # æ¯å¤© UTC æ—¶é—´ 11:00ï¼ˆå³åŒ—äº¬æ—¶é—´ 19:00ï¼‰

  # æ‰‹åŠ¨è§¦å‘æˆ–è€… API è°ƒç”¨
  workflow_dispatch:  # æ”¯æŒé€šè¿‡ GitHub UI æˆ– API æ‰‹åŠ¨è§¦å‘

jobs:
  run-scripts:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸš€ æ£€å‡ºä»“åº“ä»£ç 
        uses: actions/checkout@v4

      - name: ğŸ è®¾ç½® Python è¿è¡Œç¯å¢ƒ
        uses: actions/setup-python@v4
        with:
          python-version: '3.12'

      - name: ğŸ› ï¸ å®‰è£…ç³»ç»Ÿä¾èµ–ï¼ˆå¯é€‰ï¼‰
        run: |
          sudo apt-get update
          sudo apt-get install -y libffi-dev libssl-dev

      - name: ğŸ“¦ å®‰è£… Python ä¾èµ–ï¼ˆé€šè¿‡ requirements.txtï¼‰
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      - name: â–¶ï¸ è¿è¡Œä¸»ç¨‹åº
        run: |
          python main.py

      - name: âœ… è¾“å‡ºå®Œæˆæç¤ºï¼ˆå¯é€‰ï¼‰
        run: echo "ä»»åŠ¡æ‰§è¡Œå®Œæˆ âœ…"

